<div class="body">
  <app-header></app-header>
  <div class="container">
    
    <!-- <div class="row">
      <div class="col-md-8">
        <div class="jumbotron">
            <h1 class="display-4" style="color:#14978a">{{biznes?.business_name}}</h1>
         
            <p>Sector(s) : {{sector_info}}</p>
            <p>Balance: NILL</p>
            <p>Address: {{biznes?.location}} {{biznes?.country}}</p>
          
            <div *ngIf="biznes?.on_program==='Y'" >
                <button type="button" class="btn btn-outline-primary spaced" routerLink="/pitchbook/{{business_id}}">View pitch deck</button>
                <button type="button" class="btn btn-outline-primary spaced" routerLink="/einvoice/{{business_id}}">View Invoices</button>
                <button type="button" class="btn btn-outline-primary spaced" (click)="openModal(followers)">Followers and Investiments</button>
                       
            </div>
            
        </div>
      </div>
      <div *ngIf="biznes?.on_program==='Y'" class="col-md-4">
          <ul class="list-group">
              <li class="list-group-item list-group-item-dark">Breakdown of the imuka activities and milestones.</li>
              <li *ngFor="let milestone of milestones" class="list-group-item list-group-item-success  d-flex justify-content-between align-items-center"  [ngClass]="{'list-group-item-success': milestone.complete, 'list-group-item-warning': !milestone.complete}" >
                {{milestone?.name}} 
                <i [ngClass]="{'fa fa-check': milestone.complete}" ></i>
            </ul>
      </div>
    </div>
    <hr>
    <div *ngIf="biznes?.on_program==='Y'">
        <div class="row"><div class="col-lg-5 col-md-12">
            <div [chart]="chart"></div>
          </div>
          <div class="col-lg-2"></div>
          <div class="col-lg-5 col-md-12">
              <div [chart]="mline"></div>
            </div>
            
        </div>
    </div>
   -->
   
    
          <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <img src="{{biznes.business_cover}}" class="card-img-top" alt="{{biznes?.business_name}}" style="height:160px;">
                    <div class="card-body">
                      <div class="media">
                          <img src="{{biznes.business_logo}}" class="mr-3" style="height:60px; width:60px;">
                          <div class="media-body">
                            <h5 class="mt-0">{{biznes?.business_name}}</h5>
                            {{biznes?.location}} {{biznes?.region}}  {{biznes?.country}}
                          </div>
                        </div>
                    </div>
                    <div class="card-footer btn-group" role="group" aria-label="Basic example" style="padding:8px;">
                        <button class="btn btn-danger btn-sm spaced"   (click)="showforms()">Invest</button>
                        <button type="button" class="btn btn-primary spaced btn-sm" routerLink="/pitchbook/{{business_id}}">Business Pitch Deck</button>
                        <button *ngIf="biznes?.on_program==='Y' && user?.user_type==='entrepreneur'" type="button" class="btn btn-info spaced btn-sm" routerLink="/einvoice/{{business_id}}">Business Inovices</button>
                    </div>
                  </div>
            </div>
    
    
            <div class="col-md-4">
                <div *ngIf="biznes?.on_program=='Y'">
                    <ul class="list-group">
                        <li class="list-group-item list-group-item-dark">ImukaAccess activities and milestones.</li>
                        <li *ngFor="let milestone of milestones" class="list-group-item list-group-item-success  d-flex justify-content-between align-items-center"  [ngClass]="{'list-group-item-success': milestone.complete, 'list-group-item-warning': !milestone.complete}" >
                        {{milestone?.name}}
                        <i [ngClass]="{'fa fa-check': milestone.complete}" ></i>
                    </ul>
                </div>
    
                
            </div>
          </div>
          <br/>
    
          <div class="container row" *ngIf="fileload" style="margin: 10px auto; border:1px solid #eee; background:#eee; padding:20px;">
              <div class="col-md-6">
                  <p>Add business logo (Best results with images at 200x200 pixels.)</p>
                  <input type="file" class="file" (change)="getTheImage($event.target.files, 'biz_logos')" />
                  <p *ngIf="logouploading">uploading please wait ...</p>
                  <button  class="btn btn-primary btn-block" [disabled]="showBtn" (click)="upload()">Upload </button>
              </div>
    
              <div class="col-md-6">
                  <p>Add business cover image (Best results with images at 1000x150 pixels.)</p>
                  <input type="file" class="file"  (change)="getTheImage($event.target.files, 'business_cover')" />
                  <p *ngIf="coveruploading">Uploading  please wait ...</p>
                  <button  class="btn btn-primary btn-block" [disabled]="showBtn" (click)="upload()">Upload </button>
              </div>
          </div>
          <hr/>
          <div class="card border-primary mb-3" style="max-width: 100%;" *ngIf="biznes?.on_program==='Y'">
            <div class="card-header bg-transparent border-primary">Business Progress</div>
            <div class="card-body text-primary">
                <div class="row"><div class="col-md-6">
                    <div [chart]="chart"></div>
                  </div>
                  <div class="col-md-6">
                      <div [chart]="mline"></div>
                    </div>
                </div>
            </div>
            <div class="card-footer bg-transparent border-primary">
                <button type="button" class="btn btn-primary" *ngIf="user?.user_type==='entrepreneur'" (click)="openModal(template)">Update Business Progress</button>
            </div>
          </div>
          <hr/>
          <div style="padding:0; border:1px solid #eee; margin-bottom: 200px;">
            <tabset>
              <tab heading="Business Information" id="tab1">
                <div>
                  <div class="business">
                    <div class="content-box" style="margin-top: 20px">
                      <div class="">
                          <div class="text-center">
                              <img src="{{biznes.business_logo}}" class="mr-3" style="height:60px; width:60px;">
                          </div>
                          <hr/>
                           <span class="text-center" style="font-size:18px; padding-left:10px; font-weight:bolder; color:rgb(41, 137, 175);">General Business Info</span>
                          <hr/>
                          <div style="padding-left:10px;">
                            <p>{{biznes.business_name}}</p>
                            <p>{{biznes.description}}</p>
                            <p>{{biznes.sectors}}</p>
                          </div>
    
                          <hr/>
                          <span style="font-size:18px; font-weight:bolder; padding-left:10px; color:rgb(41, 137, 175);">Business Contact Info</span>
                          <hr/>
                          <div style="padding-left:10px;">
                            <p>{{biznes.phone}}</p>
                            <p>{{biznes.website}}</p>
                            <p>{{biznes.email}}</p>
                            <p>{{biznes.location}}</p>
                          </div>
                          <hr/>
                          <span style="font-size:18px; padding-left:10px; font-weight:bolder; color:rgb(41, 137, 175);">Other information.</span>
                          <hr/>
                          <div style="padding-left:10px;">
                            <p>{{biznes.mission}}</p>
                            <p>{{biznes.vision}}</p>
                            <p>{{biznes.date_of_reg}}</p>
                          </div>
                          
                  </div>
                     
    
                      </div>
                    </div>
                </div>
              </tab>
    
              <tab heading="Product and services">
                <div>
                  <div class="products">
                    <div class="content-box ">
                      <div class="" style="margin-top:10px;">
    
                        <div class="media"  *ngFor="let prdt of products">
                          <div class="media-left">
                            <img src="{{prdt.images}}" class="media-object" style="width:60px">
                          </div>
                          <div class="media-body">
                            <h4 class="media-heading">{{prdt.name}}</h4>
                            <p>{{prdt.description}}</p>
                          </div>
                        </div>
                      </div>
                    
                    </div></div>
                </div>
              </tab>
    
              <tab heading="Business Documents">
                <div>
                  <div class="documents" >
                    <div class="content-box ">
                      <div class="" style="padding-top:20px">
                        <div class="row">
                          <div class="col-3" *ngFor="let doc of documents">
                            <div class="box document" [ngClass]="isclicked?'active':''" >
                              <img [src]="doc.file_url" style="height:80px; width:80px;"/>
                              <h6>{{doc.name}}</h6>
                              <p>Approved <i class="fa fa-check" aria-hidden="true"></i></p>
                            </div>
                          </div>
                        </div>
                      </div>
                     
                    </div>
                  </div>
                </div>
              </tab>
    
              <tab heading="Business Financial">
                <div>
                  <div class="financial" >
                    <div class="content-box ">
                      <div class="" style="padding-top:20px">
                        <table class="table table-striped table-responsive-sm">
                          <thead>
                            <tr>
                              <th scope="col">Year</th>
                              <th scope="col">ROS</th>
                              <th scope="col">ROI</th>
                              <th scope="col">ROE</th>
                              <th scope="col">DER</th>
                              <th scope="col">IRR</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let financial of financials">
                              <th scope="row">{{financial.period_to}}</th>
                              <td>{{financial.ros}}</td>
                              <td>{{financial.roi}}</td>
                              <td>{{financial.roe}}</td>
                              <td>{{financial.der}}</td>
                              <td>{{financial.irr}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </tab>
    
            </tabset>
          </div>
    
      </div>
    
    
    <ng-template #template>
          <div class="modal-header">
          <h4 class="modal-title pull-left">Lets know how you are progressing</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
          <div>
          <form class="updates"  [formGroup]="updates_form" (submit)="add_dailyupdate()">
    
            <div class="form-group">
            <label for="exampleInputEmail1">Select Month </label>
            <select class="form-control" formControlName="myDate" [class.invalid]="dailyupdates.controls.myDate.invalid">
              <option *ngFor="let month of months" value="{{month}}">{{month}}</option>
            </select>
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">Monthly sales </label>
            <input type="number" class="form-control" id="exampleInputEmail1"   formControlName="sales" [class.invalid]="dailyupdates.controls.sales.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">Number of people Employed </label>
            <input type="number" class="form-control" id="exampleInputEmail1"   formControlName="employees" [class.invalid]="dailyupdates.controls.employees.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">Number of female people Employed </label>
            <input type="number" class="form-control" id="exampleInputEmail1" formControlName="female_employees" [class.invalid]="dailyupdates.controls.female_employees.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">Number of served or paying customer</label>
            <input type="number" class="form-control" id="exampleInputEmail1"  formControlName="customers" [class.invalid]="dailyupdates.controls.customers.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">Number of meetings held with potential customers </label>
            <input type="number" class="form-control" id="exampleInputEmail1"   formControlName="meetings" [class.invalid]="dailyupdates.controls.meetings.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleInputEmail1">what is your market expenses $ </label>
            <input type="number" class="form-control" id="exampleInputEmail1"  placeholder="market expenses" formControlName="mkt_expenses" [class.invalid]="dailyupdates.controls.mkt_expenses.invalid">
            </div>
    
            <div  class="form-group">
              <label for="exampleInputEmail1">Number of Conversions to customers from meetings</label>
              <input type="number" class="form-control" formControlName="conversions" [class.invalid]="dailyupdates.controls.conversions.invalid">
            </div>
    
            <div class="form-group">
            <label for="exampleFormControlSelect1">Commitment of experts</label>
            <select class="form-control" id="exampleFormControlSelect1" formControlName="commitment" [class.invalid]="dailyupdates.controls.commitment.invalid">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            </select>
            </div>
    
            <div class="form-group">
              <label for="exampleFormControlSelect1">Networking opportunities</label>
              <select class="form-control" id="exampleFormControlSelect1" formControlName="networking_opps" [class.invalid]="dailyupdates.controls.networking_opps.invalid">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              </select>
            </div>
    
            <div class="form-group">
              <label for="exampleFormControlSelect1">Benefit of expert to your business</label>
              <select class="form-control" id="exampleFormControlSelect1" formControlName="expert_grade" [class.invalid]="dailyupdates.controls.expert_grade.invalid">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              </select>
            </div>
    
            <div class="form-group">
              <label for="exampleFormControlSelect1">Personal and proffessional development</label>
              <select class="form-control" id="exampleFormControlSelect1"
              formControlName="development_grade" [class.invalid]="dailyupdates.controls.development_grade.invalid">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              </select>
            </div>
    
    
            <div  class="form-group">
              <label>Benefit of the Expert(s) to your business.</label>
              <select class="form-control"
              formControlName="business_support" [class.invalid]="dailyupdates.controls.business_support.invalid">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              </select>
            </div>
    
            <div>
              <label>Personal and professional development</label>
              <select class="form-control" formControlName="support" [class.invalid]="dailyupdates.controls.support.invalid">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
    
            <input type="submit" class="btn btn-primary btn-block" value="Send updates"/>
          </form>
          </div>
          </div>
    </ng-template>
    
    <ng-template #followers style="padding:0px">
          <div class="modal-header">
          <h4 class="modal-title pull-left">Modal</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
          </button>
          </div>
    
          <div class="modal-body" style="padding:5px">
          <div>
          <tabset>
          <tab heading="Followers" id="tab1">
          <span>All Followers</span>
          <hr>
          <div class="list-group folls">
          <div style="background-color: #eee; height:27px; font-size: 14px; font-weight: 10px; border-top: 1px solid #B0B0B0" >January</div>
          <div class="follitem">
          <div>
          <img src="assets/user.png"/>
          </div>
          <div style="padding-left: 20px">
          <span>Musoke Delta Mesly company</span>
          <br>
          <span><i class="fa fa-calendar"></i> 12/jan/2018</span>
          </div>
          </div>
          <div class="follitem">
          <div>
          <img src="assets/user.png"/>
          </div>
          <div style="padding-left: 20px">
          <span>Musoke Delta Mesly company</span>
          <br>
          <span><i class="fa fa-calendar"></i> 12/jan/2018</span>
          </div>
          </div>
          </div>
          </tab>
          <tab heading="Investments">
          <span>Investment</span>
          <div class="list-group folls">
          <div style="background-color: #eee; height:27px; font-size: 14px; font-weight: 10px; border-top: 1px solid #B0B0B0" >January</div>
          <div class="follitem">
          <div>
          <img src="assets/user.png"/>
          </div>
          <div style="padding-left: 20px">
          <span>Musoke Delta Mesly company</span>
          <br>
          <span  style="font-weight:5px; "><i class="fa fa-calendar"></i> 12/jan/2018</span>
          </div>
          </div>
          <div class="follitem">
          <div>
          <img src="assets/user.png"/>
          </div>
          <div style="padding-left: 20px">
          <span>Musoke Delta Mesly company</span>
          <br>
          <span><i class="fa fa-calendar"></i> 12/jan/2018</span>
          </div>
          </div>
          </div>
          </tab>
          </tabset>
          </div>
          </div>
    </ng-template>
    