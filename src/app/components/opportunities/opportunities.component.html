<div class="body"> 
<app-header></app-header>
<div class="container">
    <div class="row">
    <div class="col-md-3">
    <div class="mainmenu">
        <app-mainmenu></app-mainmenu>
    </div>
    </div>
    <div class="col-md-6">
        <div class="jumbotron">
            <h4>{{opportunities_clone.length}} Opportunities</h4>
            <p>Explore funding, skilling and resource opportunities in your business sector and region.</p>
            <hr class="my-4">
            <a class="btn btn-primary btn-sm" (click)="openTheModal(template)">Post an opportunity</a>
            <hr>
        </div>  
        <div class="content">
            <div *ngFor="let opportunity of opportunities_clone" style="margin-top:10px;">
                <div class="card">
                    <div class="height:100px">
                        <img class="card-img-top" [src]="opportunity.image_url" alt="Card image cap" style="width:100%">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{opportunity.title}}</h5>
                        <p class="card-text">{{opportunity.short_description|flTrancator}}<a [href]="opportunity.link" target="_blank">Continue reading</a> </p>
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">{{opportunity.due_date}}</li>
                    </ul>
                </div>
            </div>
        </div>
    
    </div>
    <div class="col-md-3">
            <div>
            <div *ngFor="let filters of filter_info">
            <div class=" clearfix">
            <div class="pull-left float-left" style="height:20px; padding-top: 10px">{{filters?.name}}</div> <br/>
            <div class="float-right"><i class="fa fa-sort-desc"></i></div>
            </div>
            <div> <div class="form-group form-check" *ngFor="let option of filters.options; let i = index">
            <input type="radio" class="form-check-input" id="exampleCheck1" name="{{filters.db_name}}" value="{{option}}" (change)="onChange($event, filters)">
            <label class="form-check-label" for="exampleCheck1">{{option}}</label>
            </div>
            </div>
            </div>
            <br/>
            <button (click)="reset()" class="btn  btn-sm btn-outline-primary btn-block">Remove filters</button>
        </div>
</div>
</div>


<ng-template #template>
        <div class="modal-header">
            <h4 class="modal-title pull-left">Post an Opportunity</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form>
             
                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Title</label>
                    <div class="col-sm-10">
                    <input type="text" class="form-control" name="title" [(ngModel)]="title" placeholder=" title">
                    </div>
                </div>


                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Type</label>
                    <div class="col-sm-10">
                    <select class="form-control"  name="opp_type" [(ngModel)]="opp_type" >
                        <option value="Market/Supply Opportunities">Market/Supply Opportunities</option>
                        <option value="Partnership Opportunitie">Partnership Opportunitie</option>
                        <option value="Franchising/Distributorships Opportunities">Franchising/Distributorships Opportunities</option>
                        <option value="General">General</option>
                    </select>
                    </div>
                </div>
    
                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Due date</label>
                    <div class="col-sm-10">
                    <input type="date"  name="due_date" [(ngModel)]="due_date" class="form-control" >
                    </div>
                </div>
    
    
                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Link to details</label>
                    <div class="col-sm-10">
                    <input type="link" class="form-control"  name="link" [(ngModel)]="link"   placeholder="Link to details">
                    </div>
                </div>
    
                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Short description</label>
                    <div class="col-sm-10">
                    <textarea class="form-control"  name="short_description" [(ngModel)]="short_description" ></textarea>
                    </div>
                </div>


                <div>
                    <button class="btn btn-primary btn-sm" (click)="add_opportunities()">Submit Opportunity </button>
                </div>
            </form>
        </div>
        </ng-template>

    <app-footer></app-footer>
